<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="msapplication-config" content="/images/browserconfig.xml">
  <meta name="google-site-verification" content="XgZjCjedxF82a4b0z1Nr0FiopL5MQKta4RZweqPZaBY">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"note.siwei.info","root":"/","scheme":"Gemini","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="å…³äºæˆ‘åœ¨åšä¸€ä¸ªå«åš resource boardçš„ side projectï¼Œ å®ƒæ˜¯ä¸€ä¸ªæ–¹ä¾¿å›¢é˜Ÿåä½œä¸­ä½¿ç”¨å…±äº«èµ„æºçš„web appã€‚ æœ¬æ–‡æ˜¯æˆ‘åœ¨å†™ç¬¬ä¸€ä¸ªå‘å¸ƒç‰ˆæœ¬ä¹‹å‰æŒç»­æ›´æ–°çš„è®°å½•ã€‚  updated in 2019-April-6 ä»¥å•ä½“æ¶æ„å…ˆå®ç°äº†å¯ç”¨çš„ç‰ˆæœ¬ï¼Œéƒ¨ç½²åœ¨å…¬å¸å†…ç½‘ç»™é¡¹ç›®ä½¿ç”¨ä¸Šäº†ï¼Œä¹Ÿå…¬å¸ƒä¸€ä¸‹ä»£ç ï¼š https:&#x2F;&#x2F;github.com&#x2F;littlewey&#x2F;resource-board">
<meta property="og:type" content="article">
<meta property="og:title" content="Project Resource Board: a scalable webapp with Flask socketio and Vue.js">
<meta property="og:url" content="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/index.html">
<meta property="og:site_name" content="Siwei notes">
<meta property="og:description" content="å…³äºæˆ‘åœ¨åšä¸€ä¸ªå«åš resource boardçš„ side projectï¼Œ å®ƒæ˜¯ä¸€ä¸ªæ–¹ä¾¿å›¢é˜Ÿåä½œä¸­ä½¿ç”¨å…±äº«èµ„æºçš„web appã€‚ æœ¬æ–‡æ˜¯æˆ‘åœ¨å†™ç¬¬ä¸€ä¸ªå‘å¸ƒç‰ˆæœ¬ä¹‹å‰æŒç»­æ›´æ–°çš„è®°å½•ã€‚  updated in 2019-April-6 ä»¥å•ä½“æ¶æ„å…ˆå®ç°äº†å¯ç”¨çš„ç‰ˆæœ¬ï¼Œéƒ¨ç½²åœ¨å…¬å¸å†…ç½‘ç»™é¡¹ç›®ä½¿ç”¨ä¸Šäº†ï¼Œä¹Ÿå…¬å¸ƒä¸€ä¸‹ä»£ç ï¼š https:&#x2F;&#x2F;github.com&#x2F;littlewey&#x2F;resource-board">
<meta property="og:image" content="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/arch_diagram_0.png">
<meta property="og:image" content="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/arch_diagram_0.png">
<meta property="article:published_time" content="2019-02-16T14:27:28.000Z">
<meta property="article:modified_time" content="2019-04-06T05:35:44.427Z">
<meta property="article:author" content="Wey Gu | å¤æ€ä¸º">
<meta property="article:tag" content="fullstack">
<meta property="article:tag" content="flask">
<meta property="article:tag" content="socketio">
<meta property="article:tag" content="vue.js">
<meta property="article:tag" content="æ¶æ„">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/arch_diagram_0.png">

<link rel="canonical" href="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Project Resource Board: a scalable webapp with Flask socketio and Vue.js | Siwei notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Siwei notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">æ€ä¸ºç¬”è®°</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-rÃ©sumÃ©">

    <a href="/about/resume.pdf" rel="section"><i class="fa fa-fw fa-book"></i>RÃ©sumÃ©</a>

  </li>
        <li class="menu-item menu-item-ç®€å†">

    <a href="/about/resume_chs.pdf" rel="section"><i class="fa fa-fw fa-book"></i>ç®€å†</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">23</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives<span class="badge">13</span></a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-fw fa-heartbeat"></i>Commonweal 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Project Resource Board: a scalable webapp with Flask socketio and Vue.js
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-02-16 22:27:28" itemprop="dateCreated datePublished" datetime="2019-02-16T22:27:28+08:00">2019-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-04-06 13:35:44" itemprop="dateModified" datetime="2019-04-06T13:35:44+08:00">2019-04-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <img src="/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/arch_diagram_0.png" class="">

<h1 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h1><p>æˆ‘åœ¨åšä¸€ä¸ªå«åš resource boardçš„ side projectï¼Œ å®ƒæ˜¯ä¸€ä¸ªæ–¹ä¾¿å›¢é˜Ÿåä½œä¸­ä½¿ç”¨å…±äº«èµ„æºçš„web appã€‚</p>
<p>æœ¬æ–‡æ˜¯æˆ‘åœ¨å†™ç¬¬ä¸€ä¸ªå‘å¸ƒç‰ˆæœ¬ä¹‹å‰æŒç»­æ›´æ–°çš„è®°å½•ã€‚</p>
<blockquote>
<p>updated in <code>2019-April-6</code></p>
<p>ä»¥å•ä½“æ¶æ„å…ˆå®ç°äº†å¯ç”¨çš„ç‰ˆæœ¬ï¼Œéƒ¨ç½²åœ¨å…¬å¸å†…ç½‘ç»™é¡¹ç›®ä½¿ç”¨ä¸Šäº†ï¼Œä¹Ÿå…¬å¸ƒä¸€ä¸‹ä»£ç ï¼š</p>
<p><a href="https://github.com/littlewey/resource-board" target="_blank" rel="noopener">https://github.com/littlewey/resource-board</a></p>
<p>ä¹‹åæˆ‘ä¼šèŠ±æ—¶é—´è¿­ä»£ä¸‹å»ï¼Œä¸è¿‡ç°åœ¨è¯¾ä½™æ—¶é—´åœ¨åšä¸€ä¸ªæœºå™¨å­¦ä¹ è°ƒä¼˜çš„é¡¹ç›®ï¼Œè¿™ä¸ªä¼˜å…ˆçº§åªèƒ½é™ä½ã€‚</p>
</blockquote>
<h1 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h1><blockquote>
<p>ä¸ºä»€ä¹ˆå¼€å§‹</p>
</blockquote>
<p>åœ¨äº‘è®¡ç®—ç ”å‘éƒ¨é—¨æ¬ç –åŠå¹´ï¼Œä¸€ç›´åšä¸€äº›å¾ˆå°çš„featureå¼€å‘ï¼Œè¿ç€å‡ ä¸ªæœˆæ—©å‡ºæ™šå½’åŠ ä¸Šç‰ºç‰²å‘¨æœ«æ—¶é—´çš„èµ¶è¿›åº¦è®©æˆ‘å†…å¿ƒå¾ˆä¸å¹³é™ã€‚æˆ‘éœ€è¦åšç‚¹ä»€ä¹ˆï¼Œå› ä¸ºæœ¬è´¨ä¸Šæˆ‘çƒ­çˆ±çš„æ˜¯ <code>build things</code>ï¼Œåšä¸€ä¸ª<code>proper side project</code> çš„ä¸»æ„åœ¨è„‘å­é‡Œè½¬äº†å¥½ä¹…äº†ï¼Œæˆ‘å†³å®šå…ˆåšä¸€ä¸ªç®€å•çš„ä¸œè¥¿å‡ºæ¥ã€‚</p>
<p>è¿™ä¸ªä¸œè¥¿å°±æ˜¯ä¸€ä¸ª <code>resource board</code> ã€‚</p>
<blockquote>
<p>å­¦åˆ°ä»€ä¹ˆ</p>
</blockquote>
<p><code>resourece borard</code> æ˜¯æˆ‘èµ·çš„åå­—ï¼Œå…¶å®å°±æ˜¯ä¸€ä»½åœ¨çº¿çš„è¡¨æ ¼ã€é¢æ¿ï¼Œæœ¬è´¨ä¸Šç”¨ <code>O365</code> / <code>onedrive for business</code> å®Œå…¨å¯ä»¥å®ç°ç±»ä¼¼çš„åŠŸæ•ˆã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯æƒ³é€ è¿™æ ·ä¸€ä¸ªè½®å­ï¼Œæ¶‰åŠä¸€ä¸‹äº§å“å¼€å‘çš„å…¨ç”Ÿå‘½å‘¨æœŸçš„ä»æ— åˆ°æœ‰çš„åˆ›é€ ã€å­¦ä¹ ã€å®è·µï¼š</p>
<ul>
<li>planning, prototyping</li>
<li>architecture</li>
<li>front end</li>
<li>back end</li>
<li>CI/ CD</li>
<li>maintenance</li>
<li>refactoring<ul>
<li>for test</li>
<li>for scale</li>
</ul>
</li>
<li>tuning</li>
</ul>
<blockquote>
<p>User story of resource board</p>
</blockquote>
<p><code>resource board</code> ä¸»è¦è§£å†³å¼‚åœ°å›¢é˜Ÿåä½œä¸­å¯¹å…±äº«èµ„æºä½¿ç”¨çš„é—®é¢˜ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”µå­åŒ–çš„èµ„æºä½¿ç”¨ç™½æ¿ã€‚</p>
<p>è¯•æƒ³ä¸€ä¸‹æ²¡æœ‰èµ„æºå ç”¨ç™½æ¿çš„æ—¶å€™ï¼Œå›¢é˜Ÿé‡Œçš„äººå…±äº«10ä¸ªè™šæ‹ŸåŒ–æ•°æ®ä¸­å¿ƒï¼Œæˆ‘ä»¬ç®€ç§° <code>DC</code> ï¼Œå¯¹äºå®ƒçš„ä½¿ç”¨åˆ†å‡ ä¸ªåœºæ™¯ï¼š</p>
<ul>
<li>CI <ul>
<li>è¢«CIå ç”¨ï¼Œæ²¡æœ‰å†è§¦å‘CIè°ƒç”¨å®ƒçš„äººä¸å¯ä»¥å¹²é¢„</li>
</ul>
</li>
<li>testing<ul>
<li>è¢«éç‹¬å å¼çš„äººä½¿ç”¨ä¸­ï¼Œç‰¹å®šçš„äººå¯ä»¥å¹¶è¡Œä½¿ç”¨å®ƒï¼Œï¼ˆç†æƒ³æƒ…å†µä¸‹ï¼‰ä¸ä¼šå¹²æ‰°åˆ°å½¼æ­¤</li>
</ul>
</li>
<li>occupied<ul>
<li>è¢«äººç‹¬å ä½¿ç”¨ï¼Œä¸å¯ä¸åˆ«äººå…±äº«</li>
</ul>
</li>
<li>free<ul>
<li>ä»»ä½•äººå¯ä»¥ä½¿ç”¨å®ƒï¼Œæˆ–è€…æŒªä½œå…¶ä»–ç”¨é€”</li>
</ul>
</li>
</ul>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨å®ƒçš„AåŒå­¦éœ€è¦ç«™èµ·æ¥å‘Šè¯‰æ‰€æœ‰äººï¼Œæˆ–è€…ç¾¤å‘é‚®ä»¶ï¼Œè¯´æˆ‘è¦ç”¨ <code>DC123</code> ç‹¬å è°ƒè¯•ä¸€ä¸ªä»£ç ï¼Œæœ‰äººåœ¨ç”¨ä¹ˆï¼Ÿ 10åˆ†é’Ÿåï¼Œåœ¨æ³¨æ„åˆ°æ²¡äººå›å¤çš„æƒ…å†µä¸‹ï¼Œtaå°±åœ¨ <code>DC123</code>ä¸Šå¼€å§‹<del>åšåäº‹</del> è°ƒè¯•taçš„ä»£ç äº†ã€‚ç„¶è€Œåˆšä»å•æ‰€å›æ¥çš„BåŒå­¦ï¼Œå´å‘ç°taçš„ç¯å¢ƒè¢«ç ´åäº†ï¼ŒåŠå¤©ç™½å¿™æ´»äº†ğŸ˜¢ã€‚</p>
<p>å¦‚æœè¿™ä¸ªèµ„æºå…±äº«çš„å·¥ä½œæ–¹å¼ä¹‹ä¸­å¼•å…¥äº†è®°å½•èµ„æºå ç”¨æƒ…å†µçš„ç™½æ¿ï¼ŒAåŒå­¦åªéœ€è¦çœ‹ä¸€ä¸‹ç™½æ¿ä¸Šç©ºé—²çš„DCï¼Œå‘ç°<code>DC125</code> å¯ä»¥ä½¿ç”¨ï¼Œä»–å¯ä»¥åšåˆ°ï¼š</p>
<ul>
<li>æ— éœ€ç­‰å¾…ç¡®è®¤å¹¿æ’­ä¿¡æ¯çš„å›å¤ç«‹åˆ»ä½¿ç”¨ <code>DC125</code></li>
<li>ä¸ä¼šç ´åä»»ä½•è¢«å ç”¨çš„èµ„æºç¯å¢ƒæ¯”å¦‚ <code>DC123</code> </li>
</ul>
<p>çœ‹èµ·æ¥æ¯”è¾ƒè‡ªç„¶ã€‚</p>
<h1 id="Planning"><a href="#Planning" class="headerlink" title="Planning"></a>Planning</h1><h2 id="å…³é”®ç‚¹"><a href="#å…³é”®ç‚¹" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>æ•°å­—åŒ–ç™½æ¿åº”è¯¥æ˜¯ä¸€ä¸ªWep App</li>
<li>å®ƒéœ€è¦æ˜¯å®æ—¶çš„<ul>
<li>æ”¯æŒé¢å‘è¿æ¥çš„(server â€”&gt; client)</li>
</ul>
</li>
<li>å¯æ‰©å±•ï¼Œå¯æ‰©å®¹<ul>
<li>åç«¯<ul>
<li>åªåšapi</li>
<li>åˆ†å¸ƒå¼ï¼Œå¯scale up</li>
</ul>
</li>
<li>å‰ç«¯<ul>
<li>single page client</li>
<li>websocket</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ç®€å•åŸå‹"><a href="#ç®€å•åŸå‹" class="headerlink" title="ç®€å•åŸå‹"></a>ç®€å•åŸå‹</h2><p>æˆ‘ç”¨Balsamiq Mockups ç®€å•åšäº†ä¸€ä¸ªåŸå‹ï¼š</p>
<ul>
<li>ç”¨å¡ç‰‡è¡¨ç¤ºæ¯ä¸€ä¸ªèµ„æºçš„ä¿¡æ¯</li>
<li>ä¸åŒçš„sectionè¡¨ç¤ºèµ„æºè¢«ä½¿ç”¨çš„çŠ¶æ€ï¼Œæˆ–è€…åˆ†ç±»</li>
<li>æä¾›é¢å‘èµ„æºçš„å†å²æŸ¥çœ‹é¡µé¢</li>
</ul>
<p>æˆ‘æ²¡æœ‰èŠ±æ›´å¤šæ—¶é—´å»ç”»æ›´è¯¦ç»†çš„åŸå‹å›¾ï¼Œåªæ˜¯åœ¨ç”»è¿™ä¸ªåˆå§‹çš„ç‰ˆæœ¬çš„è¿‡ç¨‹ä¸­å¼•å¯¼æˆ‘æ€è€ƒæˆ‘åˆå§‹çš„æ•°æ®schemaï¼Œå‰åç«¯æœ€å¼€å§‹è¦åšçš„äº‹æƒ…ï¼Œä¸€æ—¦é›å½¢ç¡®å®šä¸‹æ¥ï¼Œæˆ‘å°±ç›´æ¥è¿›å…¥å‰åç«¯çš„å¼€å‘ï¼Œåœ¨å¼€å‘ä¸­ç›´æ¥å®ç°ä¸šåŠ¡é€»è¾‘çš„è¿›åŒ–ã€‚</p>
<blockquote>
<p> è¿™é‡Œæ˜¯æˆ‘æˆªå–çš„åŸå‹å›¾çš„demoåŠ¨ç”» ğŸ˜</p>
</blockquote>
<a id="more"></a>

<p><video src="/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/demo-board-history.mp4" controls='controls' width='100%' height='100%'></video></p>
<h2 id="å‰ç«¯ã€è®¾è®¡"><a href="#å‰ç«¯ã€è®¾è®¡" class="headerlink" title="å‰ç«¯ã€è®¾è®¡"></a>å‰ç«¯ã€è®¾è®¡</h2><h3 id="åŸºç¡€æ¶å­"><a href="#åŸºç¡€æ¶å­" class="headerlink" title="åŸºç¡€æ¶å­"></a>åŸºç¡€æ¶å­</h3><p>å› ä¸ºæˆ‘ä¸æ˜¯ä¸€ä¸ªJS guyã€UI design guyï¼Œæˆ‘é€‰æ‹©äº†é€‚åˆè½»é‡çº§å¿«é€Ÿå®ç°çš„æ–¹æ¡ˆ: vue.js + material designã€‚</p>
<p><del>ä¸€å¹´</del>ä¸¤å¹´ä¹‹å‰ï¼Œæˆ‘ç”¨ï¼š</p>
<ul>
<li>ä¸€æœ¬ä¹¦(<a href="https://www.amazon.com/Non-Designers-Design-Book-4th/dp/0133966151" target="_blank" rel="noopener">The Non-Designerâ€™s Design Book (4th Edition)</a> )</li>
<li>ä¸€ä¸ªæ¡†æ¶(<a href="https://materializecss.com/getting-started.html" target="_blank" rel="noopener">materialCSS</a>) </li>
</ul>
<p>åšäº†ä¸€ä¸ªé—ç•™ç³»ç»Ÿæ”¹é€ çš„Prove of Concept (<a href="https://github.com/littlewey/yet-another-GSC-C-lighthouse" target="_blank" rel="noopener">inno-search</a>)ï¼Œé‚£ä¸ªè¿‡ç¨‹æˆ‘å°åˆ°äº†è®¾è®¡ç”œå¤´ï¼Œå¯¹äºæˆ‘è¿™ä¸ªæ²¡æœ‰ä»»ä½•è®¾è®¡ç»éªŒçš„äººï¼Œåªæ˜¯ä½¿ç”¨å‡ ä¸ªåŸºæœ¬çš„è®¾è®¡ principle å°±åšå‡ºæ¥æ˜æ˜¾æ²¡æœ‰è®¾è®¡ç¼ºé™·çš„ä¸œè¥¿çœŸçš„å¾ˆæœ‰æˆå°±æ„Ÿï¼Œæˆ‘ç”šè‡³åšäº†ä¸€ä¸ªæ¨å¹¿è§†é¢‘æ¥åœ¨å…¬å¸å†…éƒ¨ç”µè§†ä¸Šæ’­æ”¾ ( promo video here: <a href="https://vimeo.com/219328622" target="_blank" rel="noopener">https://vimeo.com/219328622</a> )ã€‚</p>
<p>æ‰¯è¿œäº†ï¼Œè¿™ä¸€æ¬¡æˆ‘è¿˜æƒ³ä½¿ç”¨ material design çš„è®¾è®¡å…ƒç´ ï¼Œæ¥å’ç Œè¿™ä¸ªç®€å•çš„boardã€‚</p>
<p>å› ä¸ºæƒ³å°è¯•ä¸€ä¸‹å“åº”å¼çš„å‰ç«¯çš„å¼€å‘ï¼Œæˆ‘é€‰æ‹© <a href="https://vuejs.org/" target="_blank" rel="noopener">Vue.js</a> å’Œ <a href="https://vuetifyjs.com/" target="_blank" rel="noopener">Vuetify.js</a> ã€‚</p>
<ul>
<li><input disabled="" type="checkbox"> å¦‚æœæˆ‘ç»§ç»­ä¸°å¯Œå·¥å…·çš„featureï¼Œæˆ‘ä¼šè€ƒè™‘ç”¨ <a href="http://vma.isocked.com/#/dashboard" target="_blank" rel="noopener">vue matierial admin</a> å †ç Œæ›´ä¸°å¯Œçš„åŠŸèƒ½å‡ºæ¥ã€‚</li>
</ul>
<blockquote>
<p>å¦å¤–ï¼Œ<a href="https://element.eleme.io" target="_blank" rel="noopener">element-ui</a> ä¹Ÿæ˜¯ä¸€ä¸ªé€‰æ‹©ï¼Œä¹Ÿè®¸æˆ‘ä¹‹åä¼šç”¨å®ƒåšç‚¹ä»€ä¹ˆ ğŸ˜ã€‚</p>
</blockquote>
<h3 id="å®æ—¶æ€§éœ€æ±‚"><a href="#å®æ—¶æ€§éœ€æ±‚" class="headerlink" title="å®æ—¶æ€§éœ€æ±‚"></a>å®æ—¶æ€§éœ€æ±‚</h3><p>ä¸ºäº†åšåˆ°å®æ—¶æ€§ï¼Œå°±æ˜¯æœåŠ¡ç«¯æ¨é€å®æ—¶çš„æ•°æ®å˜åŒ–ç»™è¿æ¥çš„webå®¢æˆ·ç«¯ï¼Œæˆ‘é€‰æ‹© <a href="https://socket.io/" target="_blank" rel="noopener">Socket.IO</a>ï¼Œè€Œä¸æ˜¯client å»pullingï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li>WebSocketçš„connectionçš„å»¶æ—¶ï¼ˆmsï¼‰è¿œæ¯”pull çš„intervalï¼ˆs) å°ï¼Œèƒ½åšåˆ° <code>çœŸÂ·å®æ—¶</code></li>
<li>å®æ—¶æ€§è¦æ±‚é«˜çš„pullingå¸¦æ¥çš„åç«¯çš„å¼€é”€å¤§äºWebSocketè¿æ¥</li>
</ul>
<h2 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h2><p>è¿˜æ˜¯å› ä¸ºæˆ‘ä¸æ˜¯ ä¸€ä¸ªJS guyï¼Œæ²¡æœ‰é€‰æ‹©æ›´nativeçš„node.jsï¼Œå†æ¥ï¼Œæˆ‘æœ€ç†Ÿæ‚‰çš„æ˜¯ pythonï¼Œäºæ˜¯ä¹Ÿå°±æ²¡æœ‰å°é²œ golangï¼ˆä»¥åå¯ä»¥è¯•è¯•ï¼‰ã€‚</p>
<p>å¥½ä¹…ä¹‹å‰æˆ‘åœ¨ç¿»pyconçš„è§†é¢‘æ—¶å€™ï¼Œæ³¨æ„åˆ°Miguelè€å¸ˆå†™äº† <a href="https://github.com/miguelgrinberg/python-socketio" target="_blank" rel="noopener">python socket-io</a>  å®ç°ï¼Œè¿˜æœ‰å’Œä»–äº²è‡ªåŸºäºæ­¤çš„ <a href="https://flask-socketio.readthedocs.io/en/latest/" target="_blank" rel="noopener">Flask-socketio</a> ï¼Œä¸€ç›´éƒ½æƒ³è¦ç ”ç©¶æ¥è¯•è¯•ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯é€‰æ‹©ç†Ÿæ‚‰çš„Flask ğŸ˜ã€‚</p>
<h3 id="æ¶ˆæ¯é˜Ÿåˆ—"><a href="#æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—"></a>æ¶ˆæ¯é˜Ÿåˆ—</h3><p>å› ä¸ºå¯æ‰©å±•æ¶æ„çš„éœ€æ±‚ï¼ˆåˆ†å¸ƒå¼æ•°æ®åº“ã€å¯æ‰©å±•åç«¯ï¼‰ï¼š</p>
<ul>
<li>åç«¯çš„ server/service instance åœ¨åˆ†å¸ƒå¼çš„æƒ…å†µä¸‹éœ€è¦æ”¯æŒå¯¹æ‰€æœ‰clientè¿æ¥çš„å¹¿æ’­</li>
<li>è€ƒè™‘å¯¹æ•°æ®åº“çš„å†™æ“ä½œé€šè¿‡åŸºäºé˜Ÿåˆ—çš„å¼‚æ­¥callè§„é¿æ•°æ®å¹¶è¡Œå†™å…¥åšåˆ°ä¸€è‡´æ€§</li>
</ul>
<h3 id="ä»»åŠ¡é˜Ÿåˆ—"><a href="#ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—"></a>ä»»åŠ¡é˜Ÿåˆ—</h3><p>è¿˜æœ‰ä¸¤ä¸ªä¸ªæˆ‘æ²¡æœ‰æåŠçš„éœ€æ±‚æ˜¯ï¼š</p>
<ul>
<li>å¤–éƒ¨ API å‘¨æœŸæ€§è°ƒç”¨<ul>
<li>æˆ‘ä»¬çš„boardä¹‹ä¸­ï¼Œresourceåº”è¯¥å¯ä»¥é€šè¿‡å‘¨æœŸæ€§çš„call CIç³»ç»Ÿçš„API è·å–å®ƒè¢«CIè°ƒç”¨çš„çŠ¶æ€ä¿¡æ¯ã€‚è¿™éœ€è¦å¼‚æ­¥æ‰§è¡Œçš„å‘¨æœŸæ€§ä»»åŠ¡</li>
</ul>
</li>
<li>resource bookingã€scheduling<ul>
<li>åç»­æä¾›ç»ˆç«¯ç”¨æˆ·å»é¢„çº¦èµ„æºæœªæ¥ä½¿ç”¨çš„åŠŸèƒ½ï¼Œéœ€è¦background taskå»ç›‘æµ‹ã€ç»´æŠ¤äº‹ä»¶çš„è§¦å‘å’Œç›¸å…³æ•°æ®çš„è¯»å†™</li>
</ul>
</li>
</ul>
<p>ç»ˆäºæ‰¾åˆ°æœºä¼šç ”ç©¶ä½¿ç”¨ä¸€ä¸‹ <a href="http://www.celeryproject.org/" target="_blank" rel="noopener">Celery</a> äº†ã€‚</p>
<h2 id="ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²"><a href="#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²"></a>ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</h2><p>å› ä¸ºå…´è¶£åŸå› ï¼Œé€‰æ‹©å®¹å™¨åŒ–ï¼Œå®è·µä¸€ä¸‹k8sçš„éƒ¨ç½²ã€‚</p>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>Test Driven Developï¼Œåšåˆ°å°½å¯èƒ½é«˜coverageçš„å•å…ƒæµ‹è¯•ã€‚</p>
<h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><p>æˆ‘ç®€å•åœ°ä½¿ç”¨keynote.app åˆ›å»ºäº†ä¸€ä¸‹æ¶æ„å›¾è‰ç¨¿å¦‚ä¸‹ã€‚</p>
<img src="/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/arch_diagram_0.png" class="">

<p><strong>Note:</strong></p>
<ul>
<li>é€šè¿‡ Nginxä½œä¸ºload balancerï¼Œä»¥åŠå¤–éƒ¨ç”¨æˆ·çš„http webSocket çš„tlsåŠ å¯†è§£å¯†èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´tls terminated in loadbalancerã€‚</li>
<li>æ•°æ®åº“çš„è¯»å†™æ“ä½œé€è¿‡message queue(MQ)ï¼Œè¿™é‡Œå®ƒæ—¢æ˜¯cacheï¼Œåˆæ˜¯å†™æ“ä½œçš„queueï¼Œè€ƒè™‘ä½¿ç”¨Radis(<a href="http://python-rq.org/" target="_blank" rel="noopener">rq</a>)ã€‚</li>
<li>åç«¯ä¸ºè®¡åˆ’ä»»åŠ¡å•ç‹¬åšä¸€ä¸ªinstanceï¼Œboard-schedulerï¼š<ul>
<li>ç”¨æ¥å¤„ç†resource é¢„çº¦åˆ°æœŸäº‹ä»¶</li>
<li>å‘¨æœŸåœ°é€šè¿‡call CeleryæŠ“å– å¤–éƒ¨CI ç³»ç»Ÿçš„çŠ¶æ€</li>
</ul>
</li>
<li>Celary instanceå¤„ç† async callï¼ˆé cpu tenseçš„ï¼‰<ul>
<li>æŠ“å– å¤–éƒ¨ç³»ç»ŸCIçŠ¶æ€</li>
<li>DB call</li>
<li>socketIO broadcast</li>
</ul>
</li>
</ul>
<h1 id="Notes-during-coding"><a href="#Notes-during-coding" class="headerlink" title="Notes during coding"></a>Notes during coding</h1><p>è¿™é‡Œæ”¾ä¸€äº›æˆ‘åœ¨å®ç°è¿‡ç¨‹ä¸­çš„ä¸€ç‚¹ç‚¹æ³¨æ„çš„ç‚¹ã€‚</p>
<h2 id="Itâ€™s-not-reactive"><a href="#Itâ€™s-not-reactive" class="headerlink" title="Itâ€™s not reactive?!"></a>Itâ€™s not reactive?!</h2><p>å› ä¸ºæ²¡æœ‰çœ‹å®Œæ‰€æœ‰Vue.jsçš„æ–‡æ¡£ï¼Œå°±å¼€å§‹æï¼Œæ²¡æœ‰æ„è¯†åˆ°Vue.jså¯¹å¯¹è±¡å’Œæ•°ç»„å†…éƒ¨å˜åŒ–çš„trackæ˜¯æœ‰é™åˆ¶çš„ï¼Œæ‰€ä»¥åšmutationçš„æ—¶å€™ä¸å¯ä»¥ç›´æ¥å‡è®¾å˜´è¾¹æ›´æ”¹éƒ½è¢«å“åº”å¼çš„ååº”åˆ°viewä¹‹ä¸­ï¼Œéœ€è¦ç”¨Vue.setæˆ–è€…spliceğŸ˜ã€‚</p>
<p>æˆ‘å†™åˆ°ä¸­é—´å‘ç°Viewæ€ä¹ˆéƒ½æ— æ³•æŒ‰ç…§æˆ‘çš„é¢„æœŸå¾—åˆ°æ›´æ–°ï¼Œdebug å»printå€¼ä¹Ÿæ˜æ˜æ›´æ”¹äº†ï¼ˆ<code>vuex mutation</code>æŒ‰ç…§é¢„æœŸæ‰§è¡Œäº†ï¼‰ï¼Œæœ‰é‚£ä¹ˆåŠä¸ªå°æ—¶æˆ‘çš„ä»·å€¼è§‚å´©åäº†ï¼Œå„ç§Googleéƒ½æ— æœï¼ˆå¤§å®¶ä¸å“åº”å˜åŒ–çš„åŸå› éƒ½æ˜¯å®é™…ä¸Šmutationæ²¡æœ‰æ‰§è¡Œï¼‰ï¼Œç›´åˆ°æˆ‘é‡å¤´çœ‹äº†Vue.jsçš„æ–‡æ¡£æ‰å‘ç°æˆ‘çŠ¯äº†æœ€è ¢çš„é”™è¯¯â€¦.</p>
<blockquote>
<p>ref:</p>
<ul>
<li><p><a href="https://vuejs.org/v2/guide/list.html#Replacing-an-Array" target="_blank" rel="noopener">https://vuejs.org/v2/guide/list.html#Replacing-an-Array</a></p>
</li>
<li><p><a href="https://vuejs.org/v2/guide/list.html#Object-Change-Detection-Caveats" target="_blank" rel="noopener">https://vuejs.org/v2/guide/list.html#Object-Change-Detection-Caveats</a></p>
</li>
</ul>
</blockquote>
<h2 id="Time-zone"><a href="#Time-zone" class="headerlink" title="Time zone"></a>Time zone</h2><blockquote>
<p>ref: <a href="http://momentjs.com/timezone/docs/" target="_blank" rel="noopener">http://momentjs.com/timezone/docs/</a></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install moment-timezone --save</span><br></pre></td></tr></table></figure>

<p>æ•°æ®åº“ä¸­å­˜å‚¨çš„æ—¶é—´æˆ³æ˜¯UTCæ—¶åŒºçš„ï¼Œåœ¨å‰ç«¯è½¬æ¢ä¸ºæµè§ˆå™¨ä¸­çš„localæ—¶åŒºåªéœ€è¦ç”¨tzè¿™æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">moment.tz.(timeString, timezoneString)</span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„ä¾‹å­:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">moment.tz(timeString, <span class="string">'UTC'</span>).local().format(<span class="string">'MMMM Do YYYY, h:mm:ss a'</span>)</span><br></pre></td></tr></table></figure>



<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><p>åœ¨è¯»è¿™ä¸ªå°ä¹¦ï¼Œå‘ç°å†™çš„ä¸é”™ï¼Œæœ‰ä¸ä¼šçš„æ¦‚å¿µå»Googleå­¦æ¸…æ¥šå°±å¥½äº†ã€‚</p>
<blockquote>
<p>ref: <a href="https://www.openmymind.net/2012/1/23/The-Little-Redis-Book" target="_blank" rel="noopener">https://www.openmymind.net/2012/1/23/The-Little-Redis-Book</a></p>
</blockquote>
<h2 id="vue-socket-io-authentication-with-flask-socket-io"><a href="#vue-socket-io-authentication-with-flask-socket-io" class="headerlink" title="vue-socket.io authentication with flask-socket.io"></a><code>vue-socket.io</code> authentication with <code>flask-socket.io</code></h2><blockquote>
<p>flask-login flask-socket.io vue-socket.io ç™»å½•é‰´æƒçš„å®ç°</p>
</blockquote>
<p>è™½ç„¶serverç«¯å®ç°äº†ç®€å•åœ°<code>RESTful API</code>ï¼Œç”¨æ¥ä¸ºä¹‹åå¢åŠ <code>cli-client</code>æ–¹ä¾¿ï¼Œæˆ‘ä¾ç„¶å†³å®šä¸é€šè¿‡ <code>http request</code>ï¼Œä½¿ç”¨<code>flask-login</code> ç®¡ç†æœåŠ¡ç«¯çŠ¶æ€ï¼Œå®ƒæŠŠloginä¿¡æ¯è®°å½•åœ¨<code>flask-socketio</code>çš„<code>session</code>ä¹‹ä¸­äº†ã€‚</p>
<h3 id="æ³¨æ„-éœ€è¦ç»™å‡º-load-user-çš„å®šä¹‰"><a href="#æ³¨æ„-éœ€è¦ç»™å‡º-load-user-çš„å®šä¹‰" class="headerlink" title="æ³¨æ„: éœ€è¦ç»™å‡º load_user çš„å®šä¹‰"></a>æ³¨æ„: éœ€è¦ç»™å‡º <code>load_user</code> çš„å®šä¹‰</h3><p>å¦åˆ™ï¼Œä¼šæœ‰å¦‚ä¸‹å¼‚å¸¸:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    <span class="string">"No user_loader has been installed for this "</span></span><br><span class="line">Exception: No user_loader has been installed <span class="keyword">for</span> this LoginManager. Refer tohttps://flask-login.readthedocs.io/en/latest/<span class="comment">#how-it-works for more info.</span></span><br></pre></td></tr></table></figure>

<p>å®ç°çš„ä¾‹å­å¦‚ä¸‹ï¼Œå¦å¤–è¿˜å‚è€ƒ<code>flask-scoket.io</code> å®˜æ–¹æ–‡æ¡£ç³–ä¸€ä¸‹ <code>authenticated_only</code> è¿™ä¸ªè£…é¥°å™¨ï¼ŒçœŸé¦™ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">    @login.user_loader</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load_user</span><span class="params">(user_id)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> models.Users.query.filter_by(id=user_id).first()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">authenticated_only</span><span class="params">(f)</span>:</span></span><br><span class="line"><span class="meta">        @functools.wraps(f)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapped</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> current_user.is_authenticated:</span><br><span class="line">                disconnect()</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> f(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> wrapped</span><br><span class="line">...</span><br><span class="line"><span class="meta">    @socketio.on('login user')</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">login_usr</span><span class="params">(loginData)</span>:</span></span><br><span class="line">        name, passwd = loginData[<span class="string">'username'</span>], loginData[<span class="string">'passwd'</span>]</span><br><span class="line">        user = models.Users.query.filter_by(name=name).first()</span><br><span class="line">        <span class="keyword">if</span> user <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="keyword">not</span> user.check_password(passwd):</span><br><span class="line">            response = &#123;</span><br><span class="line">                <span class="string">"success"</span>: <span class="literal">False</span>,</span><br><span class="line">                <span class="string">"alert_type"</span>: <span class="string">"error"</span>,</span><br><span class="line">                <span class="string">"alert_msg"</span>: <span class="string">"User not exist or invalid used password!"</span></span><br><span class="line">                &#125;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            login_user(user)</span><br><span class="line">            response = &#123;</span><br><span class="line">                <span class="string">"success"</span>: <span class="literal">True</span>,</span><br><span class="line">                <span class="string">"user"</span>: name</span><br><span class="line">                &#125;</span><br><span class="line">        emit(<span class="string">'loginResponse'</span>, json.dumps(response))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># socketio server handle events as below</span></span><br><span class="line"><span class="meta">    @socketio.on('update resource')</span></span><br><span class="line"><span class="meta">    @authenticated_only</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update_resource_server</span><span class="params">(res)</span>:</span></span><br><span class="line">        updated_res = modify_resource(app.config, res)</span><br><span class="line">        emit(<span class="string">'updateResource'</span>, updated_res, broadcast=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>



<h3 id="ç™»å½•æµç¨‹"><a href="#ç™»å½•æµç¨‹" class="headerlink" title="ç™»å½•æµç¨‹"></a>ç™»å½•æµç¨‹</h3><p><code>vuex</code>ä¹‹ä¸­è®°å½•ä¸€ä¸ªç™»å½•çŠ¶æ€ä»¥ä¾›å‰ç«¯ååº”åˆ°viewä¹‹ä¸­ï¼Œ<code>click</code>ç™»å½•è§¦å‘<code>socket.io</code> è°ƒç”¨ï¼Œ<code>flask-socket.io</code> serveræ¥æ”¶ç™»å½•ä¿¡æ¯ï¼ŒéªŒè¯ï¼Œé€šè¿‡<code>socket.io</code> è°ƒç”¨è¿”å›login responseï¼Œ<code>vue-socket.io</code> åœ¨vuexä¹‹ä¸­çš„ action hook è§¦å‘å˜åŒ–ï¼Œ<code>mutation</code> å»æ›´æ–°<code>login</code>çŠ¶æ€ï¼Œæˆ–è€…å‘é€å¤±è´¥ alertã€‚</p>
<h3 id="Vue-socket-io-amp-Vuex-ä¾‹å­"><a href="#Vue-socket-io-amp-Vuex-ä¾‹å­" class="headerlink" title="Vue-socket.io &amp; Vuex ä¾‹å­"></a><code>Vue-socket.io</code> &amp; <code>Vuex</code> ä¾‹å­</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    resources: [],</span><br><span class="line">    loading: <span class="literal">false</span>,</span><br><span class="line">    histories: &#123;&#125;,</span><br><span class="line">    loginInfo: &#123;</span><br><span class="line">      loggedIn: <span class="literal">false</span>,</span><br><span class="line">      userName: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    login (state, response) &#123;</span><br><span class="line">      Vue.set(state.loginInfo, <span class="string">'loggedIn'</span>, response.success)</span><br><span class="line">      Vue.set(state.loginInfo, <span class="string">'userName'</span>, response.user)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    SOCKET_loginResponse ( &#123;commit&#125;, response) &#123;</span><br><span class="line">      <span class="comment">// eslint-disable-next-line</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'[DEBUG] SOCKET_loginResponse:\n\t'</span> + response)</span><br><span class="line">      <span class="keyword">let</span> resp = <span class="built_in">JSON</span>.parse(response)</span><br><span class="line">      <span class="keyword">if</span> (resp.success === <span class="literal">true</span>) &#123;</span><br><span class="line">        commit(<span class="string">'login'</span>, resp)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> data = &#123;</span><br><span class="line">          type: resp.alert_type,</span><br><span class="line">          msg: resp.alert_msg,</span><br><span class="line">          dismissed: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        commit(<span class="string">'alerting'</span>, data)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    SOCKET_registerResponse ( &#123;commit&#125;, response) &#123;</span><br><span class="line">      <span class="comment">// eslint-disable-next-line</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'[DEBUG] SOCKET_registerResponse:\n\t'</span> + response)</span><br><span class="line">      <span class="keyword">let</span> resp = <span class="built_in">JSON</span>.parse(response)</span><br><span class="line">      <span class="keyword">let</span> data = &#123;</span><br><span class="line">          type: resp.alert_type,</span><br><span class="line">          msg: resp.alert_msg,</span><br><span class="line">          dismissed: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">      commit(<span class="string">'login'</span>, resp)</span><br><span class="line">      commit(<span class="string">'alerting'</span>, data)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h2 id="Post-build-hook-for-npm-build"><a href="#Post-build-hook-for-npm-build" class="headerlink" title="Post build hook for npm build"></a>Post build hook for <code>npm build</code></h2><p>å› ä¸ºè¦æ›¿æ¢ä¸€ä¸‹Googleå­—ä½“cdnåˆ°å›½å†…friendlyçš„åœ°æ–¹ï¼Œæˆ‘ä¿®æ”¹äº† <code>package.json</code>ä¸­çš„ <code>postbuild</code>è¿™ä¸ªhookï¼Œæ¥åšcdn çš„FQDNæ›¿æ¢ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "serve": "vue-cli-service serve",</span><br><span class="line">  "build": "vue-cli-service build",</span><br><span class="line">  "postbuild": "./postbuild.sh",</span><br><span class="line">  "lint": "vue-cli-service lint"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>





<p>keeping updatingâ€¦</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Wey Gu | å¤æ€ä¸º
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/" title="Project Resource Board: a scalable webapp with Flask socketio and Vue.js">https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/fullstack/" rel="tag"># fullstack</a>
              <a href="/tags/flask/" rel="tag"># flask</a>
              <a href="/tags/socketio/" rel="tag"># socketio</a>
              <a href="/tags/vue-js/" rel="tag"># vue.js</a>
              <a href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag"># æ¶æ„</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/git-notes/" rel="prev" title="git notes">
      <i class="fa fa-chevron-left"></i> git notes
    </a></div>
      <div class="post-nav-item">
    <a href="/jupyter-notes/" rel="next" title="jupyter pyenv and virtualenv in macOS">
      jupyter pyenv and virtualenv in macOS <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#å…³äº"><span class="nav-number">1.</span> <span class="nav-text">å…³äº</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¼˜èµ·"><span class="nav-number">2.</span> <span class="nav-text">ç¼˜èµ·</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Planning"><span class="nav-number">3.</span> <span class="nav-text">Planning</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å…³é”®ç‚¹"><span class="nav-number">3.1.</span> <span class="nav-text">å…³é”®ç‚¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç®€å•åŸå‹"><span class="nav-number">3.2.</span> <span class="nav-text">ç®€å•åŸå‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‰ç«¯ã€è®¾è®¡"><span class="nav-number">3.3.</span> <span class="nav-text">å‰ç«¯ã€è®¾è®¡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åŸºç¡€æ¶å­"><span class="nav-number">3.3.1.</span> <span class="nav-text">åŸºç¡€æ¶å­</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®æ—¶æ€§éœ€æ±‚"><span class="nav-number">3.3.2.</span> <span class="nav-text">å®æ—¶æ€§éœ€æ±‚</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åç«¯"><span class="nav-number">3.4.</span> <span class="nav-text">åç«¯</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¶ˆæ¯é˜Ÿåˆ—"><span class="nav-number">3.4.1.</span> <span class="nav-text">æ¶ˆæ¯é˜Ÿåˆ—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»»åŠ¡é˜Ÿåˆ—"><span class="nav-number">3.4.2.</span> <span class="nav-text">ä»»åŠ¡é˜Ÿåˆ—</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²"><span class="nav-number">3.5.</span> <span class="nav-text">ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æµ‹è¯•"><span class="nav-number">3.6.</span> <span class="nav-text">æµ‹è¯•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¶æ„"><span class="nav-number">3.7.</span> <span class="nav-text">æ¶æ„</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Notes-during-coding"><span class="nav-number">4.</span> <span class="nav-text">Notes during coding</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Itâ€™s-not-reactive"><span class="nav-number">4.1.</span> <span class="nav-text">Itâ€™s not reactive?!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Time-zone"><span class="nav-number">4.2.</span> <span class="nav-text">Time zone</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis"><span class="nav-number">4.3.</span> <span class="nav-text">Redis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-socket-io-authentication-with-flask-socket-io"><span class="nav-number">4.4.</span> <span class="nav-text">vue-socket.io authentication with flask-socket.io</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ³¨æ„-éœ€è¦ç»™å‡º-load-user-çš„å®šä¹‰"><span class="nav-number">4.4.1.</span> <span class="nav-text">æ³¨æ„: éœ€è¦ç»™å‡º load_user çš„å®šä¹‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç™»å½•æµç¨‹"><span class="nav-number">4.4.2.</span> <span class="nav-text">ç™»å½•æµç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-socket-io-amp-Vuex-ä¾‹å­"><span class="nav-number">4.4.3.</span> <span class="nav-text">Vue-socket.io &amp; Vuex ä¾‹å­</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Post-build-hook-for-npm-build"><span class="nav-number">4.5.</span> <span class="nav-text">Post build hook for npm build</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Wey Gu | å¤æ€ä¸º"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Wey Gu | å¤æ€ä¸º</p>
  <div class="site-description" itemprop="description">Build things.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/littlewey" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:littlewey@gmail.com" title="E-Mail â†’ mailto:littlewey@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/littlewey" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/littlewey" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/littlewey" title="FB Page â†’ https:&#x2F;&#x2F;www.facebook.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/littlewey" title="Instagram â†’ https:&#x2F;&#x2F;instagram.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fa fa-fw fa-instagram"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wey Gu | å¤æ€ä¸º</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '90bb84dab80e142752cb',
      clientSecret: '26f2fb897afc6becceae244ae33738ba8c51a0b7',
      repo        : 'littlewey.github.io',
      owner       : 'littlewey',
      admin       : ['littlewey'],
      id          : 'b30521acd71b24d0acd4d6e0e1df6afe',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
